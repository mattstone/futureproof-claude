<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hemorrhoids - Asteroids Clone</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #000;
            color: #0ff;
            font-family: 'Courier New', monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        h1 {
            color: #0ff;
            font-size: 48px;
            margin: 20px 0;
            text-shadow: 0 0 10px #0ff;
        }
        .subtitle {
            color: #fff;
            font-size: 20px;
            margin-bottom: 20px;
        }
        .stats {
            font-size: 20px;
            margin: 20px 0;
            display: flex;
            gap: 40px;
        }
        canvas {
            border: 4px solid #0ff;
            display: block;
            margin: 20px;
            background: #000;
            box-shadow: 0 0 20px #0ff;
        }
        button {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            background: #0ff;
            color: #000;
            border: none;
            cursor: pointer;
            margin: 10px;
            font-family: 'Courier New', monospace;
        }
        button:hover {
            background: #fff;
        }
        .game-over {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 40px;
            border: 4px solid #0ff;
            box-shadow: 0 0 30px #0ff;
            text-align: center;
            display: none;
            z-index: 1000;
        }
        .game-over.show { display: block; }
    </style>
</head>
<body>
    <h1>üöÄ HEMORRHOIDS üöÄ</h1>
    <p class="subtitle">Classic Asteroids Arcade Action!</p>

    <div class="stats">
        <span>SCORE: <span id="score">0</span></span>
        <span>SHIPS: <span id="lives">3</span></span>
        <span>WAVE: <span id="level">1</span></span>
    </div>

    <canvas id="game" width="800" height="600"></canvas>

    <div style="text-align: center; color: #fff;">
        <button id="startBtn">LAUNCH SHIP</button>
        <p>‚Üê ‚Üí Rotate | ‚Üë Thrust | SPACE Fire | H Hyperspace</p>
    </div>

    <div id="gameOver" class="game-over">
        <h2>MISSION COMPLETE</h2>
        <p>Score: <span id="finalScore">0</span></p>
        <p>Wave: <span id="finalLevel">1</span></p>
        <button id="restartBtn">NEW MISSION</button>
    </div>

    <script>
        const canvas = document.getElementById('game');
        const ctx = canvas.getContext('2d');

        let gameState = 'ready';
        let score = 0;
        let lives = 3;
        let level = 1;
        let keys = {};

        // Ship
        const ship = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            angle: -Math.PI / 2,
            vx: 0,
            vy: 0,
            size: 15,
            thrusting: false,
            invincible: 0
        };

        let bullets = [];
        let asteroids = [];
        let particles = [];

        document.addEventListener('keydown', e => {
            keys[e.key] = true;
            if (e.key === ' ' && gameState === 'playing') {
                shoot();
                e.preventDefault();
            }
            if (e.key === 'h' || e.key === 'H') {
                hyperspace();
                e.preventDefault();
            }
        });

        document.addEventListener('keyup', e => keys[e.key] = false);

        document.getElementById('startBtn').onclick = startGame;
        document.getElementById('restartBtn').onclick = restart;

        function startGame() {
            if (gameState === 'ready') {
                gameState = 'playing';
                initLevel();
                gameLoop();
            }
        }

        function restart() {
            score = 0;
            lives = 3;
            level = 1;
            ship.x = canvas.width / 2;
            ship.y = canvas.height / 2;
            ship.vx = 0;
            ship.vy = 0;
            ship.angle = -Math.PI / 2;
            bullets = [];
            particles = [];
            gameState = 'playing';
            document.getElementById('gameOver').classList.remove('show');
            initLevel();
            updateHUD();
        }

        function initLevel() {
            asteroids = [];
            const count = 3 + level;

            for (let i = 0; i < count; i++) {
                spawnAsteroid(3, null, null);
            }
        }

        function spawnAsteroid(size, x, y) {
            if (x === null) {
                x = Math.random() * canvas.width;
                y = Math.random() * canvas.height;

                // Don't spawn near ship
                while (Math.abs(x - ship.x) < 100 && Math.abs(y - ship.y) < 100) {
                    x = Math.random() * canvas.width;
                    y = Math.random() * canvas.height;
                }
            }

            const angle = Math.random() * Math.PI * 2;
            const speed = (4 - size) * 0.5;

            asteroids.push({
                x, y,
                vx: Math.cos(angle) * speed,
                vy: Math.sin(angle) * speed,
                size,
                radius: size * 15,
                rotation: Math.random() * Math.PI * 2,
                rotSpeed: (Math.random() - 0.5) * 0.05,
                points: size === 3 ? 20 : size === 2 ? 50 : 100
            });
        }

        function gameLoop() {
            if (gameState !== 'playing') return;

            update();
            render();
            requestAnimationFrame(gameLoop);
        }

        function update() {
            // Ship controls
            if (keys['ArrowLeft']) ship.angle -= 0.08;
            if (keys['ArrowRight']) ship.angle += 0.08;

            ship.thrusting = keys['ArrowUp'];

            if (ship.thrusting) {
                ship.vx += Math.cos(ship.angle) * 0.15;
                ship.vy += Math.sin(ship.angle) * 0.15;

                // Thrust particles
                if (Math.random() < 0.5) {
                    particles.push({
                        x: ship.x - Math.cos(ship.angle) * 15,
                        y: ship.y - Math.sin(ship.angle) * 15,
                        vx: -Math.cos(ship.angle) * 2 + (Math.random() - 0.5),
                        vy: -Math.sin(ship.angle) * 2 + (Math.random() - 0.5),
                        life: 20
                    });
                }
            }

            // Apply friction
            ship.vx *= 0.99;
            ship.vy *= 0.99;

            // Move ship
            ship.x += ship.vx;
            ship.y += ship.vy;

            // Wrap ship
            if (ship.x < 0) ship.x = canvas.width;
            if (ship.x > canvas.width) ship.x = 0;
            if (ship.y < 0) ship.y = canvas.height;
            if (ship.y > canvas.height) ship.y = 0;

            // Invincibility
            if (ship.invincible > 0) ship.invincible--;

            // Update bullets
            bullets.forEach((b, i) => {
                b.x += b.vx;
                b.y += b.vy;
                b.life--;

                // Wrap bullets
                if (b.x < 0) b.x = canvas.width;
                if (b.x > canvas.width) b.x = 0;
                if (b.y < 0) b.y = canvas.height;
                if (b.y > canvas.height) b.y = 0;

                if (b.life <= 0) bullets.splice(i, 1);
            });

            // Update asteroids
            asteroids.forEach(a => {
                a.x += a.vx;
                a.y += a.vy;
                a.rotation += a.rotSpeed;

                // Wrap asteroids
                if (a.x < -a.radius) a.x = canvas.width + a.radius;
                if (a.x > canvas.width + a.radius) a.x = -a.radius;
                if (a.y < -a.radius) a.y = canvas.height + a.radius;
                if (a.y > canvas.height + a.radius) a.y = -a.radius;
            });

            // Update particles
            particles.forEach((p, i) => {
                p.x += p.vx;
                p.y += p.vy;
                p.life--;
                if (p.life <= 0) particles.splice(i, 1);
            });

            // Collision detection
            bullets.forEach((bullet, bi) => {
                asteroids.forEach((asteroid, ai) => {
                    const dx = bullet.x - asteroid.x;
                    const dy = bullet.y - asteroid.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist < asteroid.radius) {
                        // Hit!
                        bullets.splice(bi, 1);
                        asteroids.splice(ai, 1);
                        score += asteroid.points;
                        updateHUD();

                        // Split asteroid
                        if (asteroid.size > 1) {
                            spawnAsteroid(asteroid.size - 1, asteroid.x, asteroid.y);
                            spawnAsteroid(asteroid.size - 1, asteroid.x, asteroid.y);
                        }

                        // Explosion particles
                        for (let i = 0; i < 10; i++) {
                            particles.push({
                                x: asteroid.x,
                                y: asteroid.y,
                                vx: (Math.random() - 0.5) * 4,
                                vy: (Math.random() - 0.5) * 4,
                                life: 30
                            });
                        }
                    }
                });
            });

            // Ship vs asteroids
            if (ship.invincible === 0) {
                asteroids.forEach(asteroid => {
                    const dx = ship.x - asteroid.x;
                    const dy = ship.y - asteroid.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist < asteroid.radius + ship.size) {
                        loseLife();
                    }
                });
            }

            // Check win
            if (asteroids.length === 0) {
                level++;
                updateHUD();
                initLevel();
            }
        }

        function shoot() {
            if (bullets.length < 4) {
                bullets.push({
                    x: ship.x + Math.cos(ship.angle) * 15,
                    y: ship.y + Math.sin(ship.angle) * 15,
                    vx: Math.cos(ship.angle) * 6 + ship.vx,
                    vy: Math.sin(ship.angle) * 6 + ship.vy,
                    life: 60
                });
            }
        }

        function hyperspace() {
            if (gameState === 'playing') {
                ship.x = Math.random() * canvas.width;
                ship.y = Math.random() * canvas.height;
                ship.vx = 0;
                ship.vy = 0;
                ship.invincible = 60;

                // Chance of explosion
                if (Math.random() < 0.3) {
                    loseLife();
                }
            }
        }

        function loseLife() {
            lives--;
            updateHUD();

            if (lives <= 0) {
                gameOver();
            } else {
                ship.x = canvas.width / 2;
                ship.y = canvas.height / 2;
                ship.vx = 0;
                ship.vy = 0;
                ship.angle = -Math.PI / 2;
                ship.invincible = 120;
            }
        }

        function gameOver() {
            gameState = 'gameover';
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalLevel').textContent = level;
            document.getElementById('gameOver').classList.add('show');
        }

        function updateHUD() {
            document.getElementById('score').textContent = score;
            document.getElementById('lives').textContent = lives;
            document.getElementById('level').textContent = level;
        }

        function render() {
            // Clear with fade effect
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Stars
            ctx.fillStyle = '#fff';
            for (let i = 0; i < 100; i++) {
                const x = (i * 123) % canvas.width;
                const y = (i * 456) % canvas.height;
                ctx.fillRect(x, y, 1, 1);
            }

            // Draw ship (flicker if invincible)
            if (ship.invincible === 0 || Math.floor(ship.invincible / 5) % 2 === 0) {
                ctx.save();
                ctx.translate(ship.x, ship.y);
                ctx.rotate(ship.angle);

                ctx.strokeStyle = '#0ff';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(15, 0);
                ctx.lineTo(-10, 8);
                ctx.lineTo(-6, 0);
                ctx.lineTo(-10, -8);
                ctx.closePath();
                ctx.stroke();

                // Thrust
                if (ship.thrusting) {
                    ctx.strokeStyle = '#fa0';
                    ctx.beginPath();
                    ctx.moveTo(-6, 3);
                    ctx.lineTo(-15, 0);
                    ctx.lineTo(-6, -3);
                    ctx.stroke();
                }

                ctx.restore();
            }

            // Draw bullets
            ctx.fillStyle = '#fff';
            bullets.forEach(b => {
                ctx.beginPath();
                ctx.arc(b.x, b.y, 2, 0, Math.PI * 2);
                ctx.fill();
            });

            // Draw asteroids
            asteroids.forEach(a => {
                ctx.save();
                ctx.translate(a.x, a.y);
                ctx.rotate(a.rotation);

                ctx.strokeStyle = a.size === 3 ? '#888' : a.size === 2 ? '#aaa' : '#ccc';
                ctx.lineWidth = 2;
                ctx.beginPath();

                const points = 8;
                for (let i = 0; i <= points; i++) {
                    const angle = (i / points) * Math.PI * 2;
                    const r = a.radius * (0.8 + Math.sin(i * 3.7) * 0.2);
                    const x = Math.cos(angle) * r;
                    const y = Math.sin(angle) * r;
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }

                ctx.stroke();
                ctx.restore();
            });

            // Draw particles
            ctx.fillStyle = '#fa0';
            particles.forEach(p => {
                ctx.globalAlpha = p.life / 30;
                ctx.fillRect(p.x, p.y, 2, 2);
            });
            ctx.globalAlpha = 1;
        }

        updateHUD();
    </script>
</body>
</html>