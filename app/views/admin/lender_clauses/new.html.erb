<% content_for :page_title, "Add Clause" %>

<div class="admin-actions-bar">
  <div>
    <%= link_to "← Back", :back, class: "admin-btn admin-btn-secondary" %>
  </div>
</div>

<div class="admin-card">
  <h2>Add Clause for <%= @lender.name %></h2>
  <p class="admin-form-description">Create a clause for this lender. This clause can be used in mortgage contracts.</p>
  
  <%= form_with url: admin_lender_clause_path(@lender), method: :post, local: true do |form| %>
    <% if @lender.errors.any? %>
      <div class="admin-alert admin-alert-error">
        <h4><%= pluralize(@lender.errors.count, "error") %> prohibited this clause from being saved:</h4>
        <ul>
          <% @lender.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="admin-form-group">
      <%= form.label :content, "Clause Content", class: "admin-form-label" %>
      <%= form.text_area :content, value: @clause_content, rows: 15, 
          class: "admin-form-control", 
          placeholder: "Enter the clause content here. This text will be inserted into mortgage contracts.\n\nExample:\nThis lender requires additional documentation including:\n- Property appraisal reports\n- Income verification documents\n- Credit history reports\n\nAll documents must be provided within 30 days of application." %>
      <div class="admin-form-help">
        <small class="admin-form-text">Enter clear, legal language suitable for contract documents. This clause will be available for insertion into mortgage contracts.</small>
      </div>
    </div>

    <div class="admin-form-actions">
      <%= form.submit "Save Clause", class: "admin-btn admin-btn-primary" %>
      <%= link_to "Cancel", :back, class: "admin-btn admin-btn-secondary" %>
    </div>
  <% end %>
</div>