<%= render 'shared/header' %>

<div class="honky-pong-wrapper" data-controller="honky-pong">
  <h1 class="game-title">üéÆ Honky Pong</h1>
  <p class="game-subtitle">Save the Princess from Honky Kong!</p>

  <div class="game-stats">
    <span>SCORE: <span id="score" data-honky-pong-target="score">000000</span></span>
    <span>LIVES: <span id="lives" data-honky-pong-target="lives">3</span></span>
    <span>LEVEL: <span id="level" data-honky-pong-target="level">1</span></span>
  </div>

  <!-- Game Container -->
  <div id="gameContainer"
       class="honky-pong-container"
       data-honky-pong-target="container"
       data-asset-donkey-kong="<%= asset_path('arcade/donkeykong/donkey-kong.png') %>"
       data-asset-barril="<%= asset_path('arcade/donkeykong/barril-2.png') %>"
       data-asset-barriles="<%= asset_path('arcade/donkeykong/barriles.png') %>"
       data-asset-mario="<%= asset_path('arcade/donkeykong/mario.png') %>"
       data-asset-mario-run="<%= asset_path('arcade/donkeykong/mario-run.png') %>"
       data-asset-mario-run-2="<%= asset_path('arcade/donkeykong/mario-run-2.png') %>"
       data-asset-mario-left="<%= asset_path('arcade/donkeykong/mario-left.png') %>"
       data-asset-mario-left-run="<%= asset_path('arcade/donkeykong/mario-left-run.png') %>"
       data-asset-mario-left-run-2="<%= asset_path('arcade/donkeykong/mario-left-run-2.png') %>"
       data-asset-mario-up="<%= asset_path('arcade/donkeykong/mario-up-r.png') %>"
       data-asset-escalera="<%= asset_path('arcade/donkeykong/escalera.png') %>"
       data-asset-hammer="<%= asset_path('arcade/donkeykong/martillo.png') %>"
       data-asset-hammer-run="<%= asset_path('arcade/donkeykong/run-martillo.png') %>"
       data-asset-hammer-run-2="<%= asset_path('arcade/donkeykong/run-martillo-2.png') %>"
       data-asset-peach="<%= asset_path('arcade/donkeykong/peach-no-floor.png') %>"
       data-asset-piso="<%= asset_path('arcade/donkeykong/piso.png') %>"
       data-asset-heart="<%= asset_path('arcade/donkeykong/heart.png') %>"
       data-asset-game-over="<%= asset_path('arcade/donkeykong/game-over.png') %>">
    <canvas id="gameCanvas" width="800" height="600"></canvas>
  </div>

  <!-- Instructions -->
  <div class="game-instructions">
    <p><strong>üéÆ Controls:</strong></p>
    <p>‚¨ÖÔ∏è ‚û°Ô∏è <strong>Arrow Keys:</strong> Move left and right</p>
    <p>‚¨ÜÔ∏è <strong>Up Arrow:</strong> Jump / Climb ladders</p>
    <p>‚¨áÔ∏è <strong>Down Arrow:</strong> Climb down ladders</p>
    <p>üî® <strong>Spacebar:</strong> Use hammer (when collected)</p>
    <p>üéØ <strong>Goal:</strong> Reach Princess Peach at the top while avoiding barrels!</p>
  </div>

  <div class="game-controls">
    <button data-action="click->honky-pong#startGame" class="btn btn-primary">START GAME</button>
    <button data-action="click->honky-pong#togglePause" class="btn btn-secondary">PAUSE</button>
  </div>

  <div class="back-link">
    <%= link_to "‚Üê Back to Arcade", arcade_path, class="btn btn-secondary" %>
  </div>
</div>

<style>
  .honky-pong-wrapper {
    text-align: center;
    padding: 20px;
    background: #000;
    min-height: 100vh;
  }

  .game-title {
    color: #ff0000;
    font-size: 48px;
    margin: 20px 0;
    text-shadow: 4px 4px 0 #000000, 6px 6px 0 #ffffff;
    font-family: 'Arial Black', sans-serif;
  }

  .game-subtitle {
    color: #ffff00;
    font-size: 24px;
    margin-bottom: 20px;
  }

  .game-stats {
    color: #ffffff;
    font-size: 20px;
    font-family: monospace;
    margin: 20px 0;
    display: flex;
    justify-content: center;
    gap: 40px;
  }

  .honky-pong-container {
    display: inline-block;
    margin: 20px auto;
    border: 4px solid #ff0000;
    background: #000;
  }

  #gameCanvas {
    display: block;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }

  .game-instructions {
    color: #ffffff;
    margin: 30px auto;
    max-width: 600px;
    text-align: left;
    background: #1a1a1a;
    padding: 20px;
    border-radius: 8px;
    border: 2px solid #333;
  }

  .game-instructions p {
    margin: 10px 0;
    font-size: 16px;
  }

  .game-controls {
    margin: 20px 0;
  }

  .game-controls button {
    margin: 0 10px;
    padding: 15px 30px;
    font-size: 18px;
    font-weight: bold;
  }

  .back-link {
    margin: 30px 0;
  }
</style>

<%= render 'shared/footer' %>